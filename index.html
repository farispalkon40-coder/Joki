<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dafzx Joki & Store v4.0 PRO</title>

  <!-- üåà Font & Icon -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
  /* ===========================================================
     üåå DAFZX JOKI & STORE v4.0 PRO
     Tema: Neon Blue + Purple
     =========================================================== */

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: "Poppins", sans-serif;
  }

  body {
    background: linear-gradient(180deg, #000814, #1a0033);
    color: #fff;
    overflow-x: hidden;
  }

  /* üîÆ Efek ombak neon */
  .wave-bg {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 200%;
    height: 200px;
    background: rgba(120, 0, 255, 0.3);
    border-radius: 100%;
    animation: waveMove 8s infinite linear;
    filter: blur(100px);
    z-index: -1;
    pointer-events: none;
  }

  @keyframes waveMove {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }

  /* üåü Header utama */
  .header {
    text-align: center;
    padding: 40px 20px;
    background: rgba(0, 0, 50, 0.4);
    border-bottom: 2px solid #7209b7;
    box-shadow: 0 0 25px #560bad;
  }

  .header .glow {
    font-size: 2.5em;
    font-weight: 800;
    color: #00b4d8;
    text-shadow: 0 0 10px #00b4d8, 0 0 25px #7209b7;
    animation: glowPulse 2s infinite alternate;
  }

  @keyframes glowPulse {
    from { text-shadow: 0 0 10px #00b4d8; }
    to { text-shadow: 0 0 25px #b5179e; }
  }

  .tagline {
    color: #caf0f8;
    font-size: 1em;
    margin-top: 10px;
  }

  /* üî• Bar promo berjalan */
  .promo-bar {
    background: linear-gradient(90deg, #7209b7, #00b4d8);
    color: white;
    text-align: center;
    padding: 8px;
    font-weight: bold;
    border-bottom: 2px solid #560bad;
  }

  /* üõí Bagian pemesanan */
  section {
    padding: 40px 20px;
    text-align: center;
  }

  section h2 {
    color: #00b4d8;
    text-shadow: 0 0 10px #00b4d8;
    margin-bottom: 20px;
  }

  /* üßæ Form order */
  #orderForm {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    background: rgba(0, 0, 50, 0.4);
    padding: 25px;
    border-radius: 10px;
    max-width: 400px;
    margin: 0 auto;
    box-shadow: 0 0 15px #7209b7;
  }

  #orderForm input, #orderForm select {
    width: 100%;
    padding: 10px;
    border: none;
    border-radius: 6px;
    background: #001d3d;
    color: #fff;
  }

  #orderForm button {
    background: linear-gradient(90deg, #7209b7, #00b4d8);
    border: none;
    padding: 10px 15px;
    border-radius: 6px;
    font-weight: bold;
    color: #fff;
    cursor: pointer;
    transition: 0.3s;
  }

  #orderForm button:hover {
    box-shadow: 0 0 20px #00b4d8;
  }

  #totalHarga {
    color: #90e0ef;
    font-weight: bold;
  }

  /* üèÜ Leaderboard */
  .leaderboard-section ul {
    list-style: none;
    padding: 20px;
    border-radius: 10px;
    max-width: 400px;
    margin: 0 auto;
    background: rgba(0, 0, 50, 0.4);
    box-shadow: 0 0 15px #7209b7;
  }

  /* üí¨ Review */
  .review-section form {
    background: rgba(0, 0, 50, 0.4);
    padding: 20px;
    border-radius: 10px;
    max-width: 400px;
    margin: 0 auto 20px;
    box-shadow: 0 0 15px #560bad;
  }

  .review-section textarea {
    width: 100%;
    height: 80px;
    padding: 8px;
    background: #001d3d;
    border: none;
    border-radius: 5px;
    color: white;
  }

  .review-section button {
    background: linear-gradient(90deg, #00b4d8, #7209b7);
    border: none;
    color: white;
    font-weight: bold;
    border-radius: 6px;
    padding: 8px 15px;
    cursor: pointer;
  }

  .review-section button:hover {
    box-shadow: 0 0 15px #7209b7;
  }

  #reviewList {
    max-width: 500px;
    margin: 0 auto;
    background: rgba(0, 0, 50, 0.3);
    padding: 15px;
    border-radius: 10px;
  }

  .review-item {
    border-bottom: 1px solid #00b4d8;
    padding: 5px 0;
  }

  /* ‚öôÔ∏è Tombol Admin */
  .admin-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: linear-gradient(90deg, #00b4d8, #7209b7);
    color: #fff;
    border: none;
    border-radius: 50px;
    padding: 12px 20px;
    cursor: pointer;
    box-shadow: 0 0 20px #7209b7;
    font-weight: bold;
  }

  .admin-button:hover {
    transform: scale(1.05);
  }

  /* ü™ü Popup Login Admin */
  .login-modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,30,0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    backdrop-filter: blur(10px);
  }

  .login-modal.hidden {
    display: none;
  }

  .login-box {
    background: rgba(0,0,50,0.7);
    padding: 25px;
    border-radius: 12px;
    text-align: center;
    width: 300px;
    box-shadow: 0 0 20px #7209b7;
  }

  .login-box input {
    width: 100%;
    margin-top: 10px;
    padding: 8px;
    border-radius: 6px;
    border: none;
    background: #001d3d;
    color: #fff;
  }

  .login-box button {
    margin-top: 15px;
    padding: 8px 15px;
    border: none;
    border-radius: 6px;
    font-weight: bold;
    background: linear-gradient(90deg, #00b4d8, #7209b7);
    color: white;
    cursor: pointer;
  }

  /* üìä Panel Admin Fullscreen */
  .admin-panel {
    position: fixed;
    inset: 0;
    background: rgba(5, 0, 20, 0.95);
    color: #fff;
    z-index: 9998;
    display: none;
    overflow-y: auto;
  }

  .admin-panel.active {
    display: block;
  }

  .admin-header {
    background: linear-gradient(90deg, #7209b7, #00b4d8);
    padding: 15px;
    font-weight: bold;
    font-size: 1.3em;
    text-align: center;
    box-shadow: 0 0 20px #7209b7;
  }

  .admin-content {
    padding: 20px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
  }

  .admin-card {
    background: rgba(0,0,50,0.5);
    border-radius: 10px;
    padding: 15px;
    box-shadow: 0 0 15px #560bad;
  }

  .admin-card h3 {
    color: #00b4d8;
    margin-bottom: 10px;
  }

  .admin-card button {
    background: linear-gradient(90deg, #7209b7, #00b4d8);
    border: none;
    color: #fff;
    padding: 8px 12px;
    border-radius: 6px;
    cursor: pointer;
    margin-top: 10px;
  }

  footer {
    text-align: center;
    padding: 20px;
    background: #001d3d;
    border-top: 2px solid #7209b7;
    font-size: 0.8em;
  }
  </style>
</head>
<body>
  <div class="wave-bg"></div>

  <div class="header">
    <h1 class="glow">Dafzx Joki & Store üé£</h1>
    <p class="tagline">Joki Cepat, Aman, dan Murah!</p>
  </div>

  <div class="promo-bar" id="promoText">üî• Diskon 10% pakai kode DAFZX2025!</div>

  <section>
    <h2>üõí Pemesanan</h2>
    <form id="orderForm" onsubmit="event.preventDefault(); kirimPesan();">
      <input id="nama" placeholder="Nama kamu" required>
      <select id="item" onchange="hitungTotal()">
        <option value="">Pilih Item</option>
        <option value="Astral Rod">Astral Rod</option>
        <option value="Ares Rod">Ares Rod</option>
        <option value="Angler Rod">Angler Rod</option>
        <option value="Ghostfind Rod">Ghostfind Rod</option>
        <option value="1M Coin">1M Coin</option>
        <option value="2M Coin">2M Coin</option>
        <option value="3M Coin">3M Coin</option>
        <option value="4M Coin">4M Coin</option>
        <option value="5M Coin">5M Coin</option>
        <option value="AFK 1 Jam">AFK 1 Jam</option>
        <option value="AFK 2 Jam">AFK 2 Jam</option>
        <option value="AFK 24 Jam">AFK 24 Jam</option>
        <option value="AFK 48 Jam">AFK 48 Jam</option>
        <option value="AFK 7 Hari">AFK 7 Hari</option>
      </select>
      <input id="jumlah" type="number" placeholder="Jumlah" min="1" value="1" onchange="hitungTotal()">
      <p>Total: <span id="totalHarga">Rp0</span></p>
      <button type="submit">Pesan Sekarang</button>
    </form>
  </section>
  <!-- üèÜ Leaderboard -->
  <section class="leaderboard-section">
    <h2>üèÜ Top Pelanggan</h2>
    <ul id="leaderboard"></ul>
  </section>

  <!-- üí¨ Review -->
  <section class="review-section">
    <h2>üí¨ Ulasan</h2>
    <form id="reviewForm" onsubmit="event.preventDefault(); tambahReview();">
      <input id="reviewNama" placeholder="Nama kamu" required>
      <textarea id="reviewText" placeholder="Tulis ulasan kamu..." required></textarea>
      <button type="submit">Kirim Review</button>
    </form>
    <div id="reviewList"></div>
  </section>

  <!-- üëë Tombol Admin -->
  <button class="admin-button" onclick="bukaLogin()">üëë Admin</button>

  <!-- üîê Popup Login -->
  <div id="loginModal" class="login-modal hidden">
    <div class="login-box">
      <h3>Login Admin</h3>
      <input id="adminPass" type="password" placeholder="Masukkan Password">
      <button onclick="cekLogin()">Masuk</button>
      <p id="loginError" style="color:red; display:none; margin-top:5px;">Password salah!</p>
    </div>
  </div>

  <!-- ‚öôÔ∏è Panel Admin -->
  <div id="adminPanel" class="admin-panel">
    <div class="admin-header">
      üëë Dafzx Admin Dashboard
      <button style="float:right; background:red; border:none; color:white; padding:5px 10px; border-radius:5px; cursor:pointer;" onclick="tutupAdmin()">X</button>
    </div>
    <div class="admin-content">
      <!-- Statistik -->
      <div class="admin-card">
        <h3>üìä Statistik</h3>
        <p>Total Order: <span id="statOrder">0</span></p>
        <p>Total Pendapatan: <span id="statPendapatan">Rp0</span></p>
        <p>Total Pelanggan: <span id="statPelanggan">0</span></p>
      </div>

      <!-- Promo -->
      <div class="admin-card">
        <h3>üéüÔ∏è Promo</h3>
        <input id="promoInput" placeholder="Tulis promo baru">
        <button onclick="tambahPromo()">Tambah Promo</button>
        <ul id="promoList"></ul>
      </div>

      <!-- Review Management -->
      <div class="admin-card">
        <h3>üí¨ Review</h3>
        <ul id="adminReviewList"></ul>
      </div>

      <!-- Export -->
      <div class="admin-card">
        <h3>üì§ Export Data</h3>
        <button onclick="exportCSV()">Export ke CSV</button>
      </div>
    </div>
  </div>

  <footer>
    <p>¬© 2025 Dafzx Joki & Store. All Rights Reserved.</p>
  </footer>

  <!-- ================================
       üß† JavaScript Logic Section
       ================================ -->
  <script>
  // ========================================
  // üí∞ Harga Item
  // ========================================
  const hargaItem = {
    "Astral Rod": 20000,
    "Ares Rod": 35000,
    "Angler Rod": 50000,
    "Ghostfind Rod": 75000,
    "1M Coin": 10000,
    "2M Coin": 18000,
    "3M Coin": 25000,
    "4M Coin": 30000,
    "5M Coin": 35000,
    "AFK 1 Jam": 5000,
    "AFK 2 Jam": 9000,
    "AFK 24 Jam": 50000,
    "AFK 48 Jam": 95000,
    "AFK 7 Hari": 250000
  };

  // ========================================
  // üßÆ Hitung Total Harga
  // ========================================
  function hitungTotal() {
    const item = document.getElementById("item").value;
    const jumlah = parseInt(document.getElementById("jumlah").value);
    const harga = hargaItem[item] || 0;
    const total = harga * jumlah;
    document.getElementById("totalHarga").innerText = "Rp" + total.toLocaleString("id-ID");
  }

  // ========================================
  // üõí Kirim Pesan via WhatsApp
  // ========================================
  function kirimPesan() {
    const nama = document.getElementById("nama").value;
    const item = document.getElementById("item").value;
    const jumlah = document.getElementById("jumlah").value;
    const harga = hargaItem[item] * jumlah;
    const tanggal = new Date().toLocaleString("id-ID");

    if (!nama || !item || !jumlah) return alert("Isi semua kolom!");

    // Simpan order ke localStorage
    const orders = JSON.parse(localStorage.getItem("orders")) || [];
    orders.push({ nama, item, jumlah, harga, tanggal });
    localStorage.setItem("orders", JSON.stringify(orders));

    alert("Pesanan berhasil dikirim ke admin lewat WhatsApp!");
    hitungStatistik();

    // Link WA
    const pesan = `Halo Admin, saya ingin pesan:\nNama: ${nama}\nItem: ${item}\nJumlah: ${jumlah}\nTotal: Rp${harga.toLocaleString("id-ID")}\nTanggal: ${tanggal}`;
    window.open("https://wa.me/6280000000000?text=" + encodeURIComponent(pesan));
  }

  // ========================================
  // üèÜ Leaderboard (otomatis dari orders)
  // ========================================
  function updateLeaderboard() {
    const data = JSON.parse(localStorage.getItem("orders")) || [];
    const count = {};
    data.forEach(o => { count[o.nama] = (count[o.nama] || 0) + parseInt(o.jumlah); });
    const sorted = Object.entries(count).sort((a,b)=>b[1]-a[1]);
    const lb = document.getElementById("leaderboard");
    lb.innerHTML = sorted.map(([nama,jml])=>`<li>${nama} ‚Äî ${jml}x order</li>`).join("");
  }

  // ========================================
  // üí¨ Review System
  // ========================================
  function tambahReview() {
    const nama = document.getElementById("reviewNama").value;
    const text = document.getElementById("reviewText").value;
    if (!nama || !text) return alert("Isi nama dan review!");
    const reviews = JSON.parse(localStorage.getItem("reviews")) || [];
    reviews.push({ nama, text });
    localStorage.setItem("reviews", JSON.stringify(reviews));
    document.getElementById("reviewForm").reset();
    tampilkanReview();
  }

  function tampilkanReview() {
    const reviews = JSON.parse(localStorage.getItem("reviews")) || [];
    const list = document.getElementById("reviewList");
    list.innerHTML = reviews.map((r,i)=>`<div class="review-item"><b>${r.nama}</b>: ${r.text}</div>`).join("");
  }

  // ========================================
  // üëë Login Admin
  // ========================================
  function bukaLogin() {
    document.getElementById("loginModal").classList.remove("hidden");
  }

  function cekLogin() {
    const pass = document.getElementById("adminPass").value;
    const error = document.getElementById("loginError");
    if (pass === "DafzxJoki") {
      document.getElementById("loginModal").classList.add("hidden");
      bukaAdmin();
      error.style.display = "none";
    } else {
      error.style.display = "block";
    }
  }

  function bukaAdmin() {
    document.getElementById("adminPanel").classList.add("active");
    loadAdminData();
  }

  function tutupAdmin() {
    document.getElementById("adminPanel").classList.remove("active");
  }

  // ========================================
  // üéüÔ∏è Promo Management
  // ========================================
  function tambahPromo() {
    const val = document.getElementById("promoInput").value.trim();
    if (!val) return;
    const promos = JSON.parse(localStorage.getItem("promos")) || [];
    promos.push(val);
    localStorage.setItem("promos", JSON.stringify(promos));
    document.getElementById("promoInput").value = "";
    tampilkanPromo();
  }

  function tampilkanPromo() {
    const promos = JSON.parse(localStorage.getItem("promos")) || [];
    document.getElementById("promoList").innerHTML = promos.map((p,i)=>`<li>${p} <button onclick="hapusPromo(${i})">Hapus</button></li>`).join("");
    document.getElementById("promoText").innerText = promos.length > 0 ? promos.join(" | ") : "üî• Diskon 10% pakai kode DAFZX2025!";
  }

  function hapusPromo(i) {
    const promos = JSON.parse(localStorage.getItem("promos")) || [];
    promos.splice(i,1);
    localStorage.setItem("promos", JSON.stringify(promos));
    tampilkanPromo();
  }

  // ========================================
  // üìä Statistik
  // ========================================
  function hitungStatistik() {
    const data = JSON.parse(localStorage.getItem("orders")) || [];
    const totalOrder = data.length;
    const totalPendapatan = data.reduce((a,b)=>a+b.harga,0);
    const pelanggan = [...new Set(data.map(o=>o.nama))].length;
    localStorage.setItem("stats", JSON.stringify({ totalOrder, totalPendapatan, pelanggan }));
  }

  function tampilkanStatistik() {
    const s = JSON.parse(localStorage.getItem("stats")) || { totalOrder:0, totalPendapatan:0, pelanggan:0 };
    document.getElementById("statOrder").innerText = s.totalOrder;
    document.getElementById("statPendapatan").innerText = "Rp" + s.totalPendapatan.toLocaleString("id-ID");
    document.getElementById("statPelanggan").innerText = s.pelanggan;
  }

  // ========================================
  // üíæ Load Admin Data
  // ========================================
  function loadAdminData() {
    tampilkanStatistik();
    tampilkanPromo();
    tampilkanAdminReview();
  }

  // ========================================
  // üí¨ Admin Review Control
  // ========================================
  function tampilkanAdminReview() {
    const reviews = JSON.parse(localStorage.getItem("reviews")) || [];
    document.getElementById("adminReviewList").innerHTML = reviews.map((r,i)=>`<li><b>${r.nama}</b>: ${r.text} <button onclick="hapusReview(${i})">Hapus</button></li>`).join("");
  }

  function hapusReview(i) {
    const reviews = JSON.parse(localStorage.getItem("reviews")) || [];
    reviews.splice(i,1);
    localStorage.setItem("reviews", JSON.stringify(reviews));
    tampilkanReview();
    tampilkanAdminReview();
  }

  // ========================================
  // üì§ Export Data ke CSV
  // ========================================
  function exportCSV() {
    const orders = JSON.parse(localStorage.getItem("orders")) || [];
    if (!orders.length) return alert("Belum ada data!");
    let csv = "Nama,Item,Jumlah,Harga,Tanggal\n";
    orders.forEach(o=>{
      csv += `${o.nama},${o.item},${o.jumlah},${o.harga},${o.tanggal}\n`;
    });
    const blob = new Blob([csv], { type: "text/csv" });
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = "data_dafzx.csv";
    a.click();
    URL.revokeObjectURL(url);
  }

  // ========================================
  // üöÄ Inisialisasi Saat Load
  // ========================================
  window.onload = () => {
    tampilkanPromo();
    tampilkanReview();
    updateLeaderboard();
    tampilkanStatistik();
  };
  </script>
</body>
      </html>
